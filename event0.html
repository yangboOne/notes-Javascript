<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>events</title>
	<style>
		#div1 {
			width: 200px;
			height: 200px;
			position: absolute;
			left: 200px;
			top: 100px;
			background: orange;
			transition: .3s;
		}
		#div2 {
			width: 100px;
			height: 100px;
			position: absolute;
			background-color: #ccc;
			left: 250px;
			top: 50px;
		}
	</style>
</head>
<body>
	<div id="div1">
		<div id="div2"></div>
	</div>
</body>

<script>
	window.onload = function(){
		var oDiv1 = document.getElementById('div1');
		var oDiv2 = document.getElementById('div2');

		oDiv1.onclick = function(e){
			oDiv1.style.backgroundColor = '#ccc';
			alert("this is div1");
			stopBubble(e);
		}

		oDiv2.onclick = function(e){
			oDiv2.style.backgroundColor = 'green';
			alert("this is div2");
			stopBubble(e);
		}

		document.onclick = function(e){
			alert('this is document');
			stopBubble(e);
		}
	}

	function stopBubble(e){
		// 如果提供了事件对象，则这是一个非IE浏览器
		if (e&&e.stopPropagation) {
			e.stopPropagation();
		}
		// 否则我们要使用IE浏览器的方式来取消事件冒泡
		else{
			window.event.cancleBubble = true;
		}
	}

</script>

</html>
<!-- 

事件冒泡：div1的子元素为div2，当点击div2时，div1和document的点击事件也被先后触发实现.
解决方案：stopBubble();

 -->